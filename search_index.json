[["index.html", "A Minimal Book Example Chapter 1 About 1.1 Usage 1.2 Render book 1.3 Preview book", " A Minimal Book Example John Doe 2024-04-25 Chapter 1 About This is a sample book written in Markdown. You can use anything that Pandoc’s Markdown supports; for example, a math equation \\(a^2 + b^2 = c^2\\). 1.1 Usage Each bookdown chapter is an .Rmd file, and each .Rmd file can contain one (and only one) chapter. A chapter must start with a first-level heading: # A good chapter, and can contain one (and only one) first-level heading. Use second-level and higher headings within chapters like: ## A short section or ### An even shorter section. The index.Rmd file is required, and is also your first book chapter. It will be the homepage when you render the book. 1.2 Render book You can render the HTML version of this example book without changing anything: Find the Build pane in the RStudio IDE, and Click on Build Book, then select your output format, or select “All formats” if you’d like to use multiple formats from the same book source files. Or build the book from the R console: bookdown::render_book() To render this example to PDF as a bookdown::pdf_book, you’ll need to install XeLaTeX. You are recommended to install TinyTeX (which includes XeLaTeX): https://yihui.org/tinytex/. 1.3 Preview book As you work, you may start a local server to live preview this HTML book. This preview will update as you edit the book when you save individual .Rmd files. You can start the server in a work session by using the RStudio add-in “Preview book”, or from the R console: bookdown::serve_book() "],["hello-bookdown.html", "Chapter 2 Hello bookdown 2.1 A section 2.2 Chapters and sub-chapters 2.3 Captioned figures and tables", " Chapter 2 Hello bookdown All chapters start with a first-level heading followed by your chapter title, like the line above. There should be only one first-level heading (#) per .Rmd file. 2.1 A section All chapter sections start with a second-level (##) or higher heading followed by your section title, like the sections above and below here. You can have as many as you want within a chapter. An unnumbered section Chapters and sections are numbered by default. To un-number a heading, add a {.unnumbered} or the shorter {-} at the end of the heading, like in this section. Cross-references make it easier for your readers to find and link to elements in your book. 2.2 Chapters and sub-chapters There are two steps to cross-reference any heading: Label the heading: # Hello world {#nice-label}. Leave the label off if you like the automated heading generated based on your heading title: for example, # Hello world = # Hello world {#hello-world}. To label an un-numbered heading, use: # Hello world {-#nice-label} or {# Hello world .unnumbered}. Next, reference the labeled heading anywhere in the text using \\@ref(nice-label); for example, please see Chapter ??. If you prefer text as the link instead of a numbered reference use: any text you want can go here. 2.3 Captioned figures and tables Figures and tables with captions can also be cross-referenced from elsewhere in your book using \\@ref(fig:chunk-label) and \\@ref(tab:chunk-label), respectively. See Figure 2.1. par(mar = c(4, 4, .1, .1)) plot(pressure, type = &#39;b&#39;, pch = 19) Figure 2.1: Here is a nice figure! Don’t miss Table 2.1. knitr::kable( head(pressure, 10), caption = &#39;Here is a nice table!&#39;, booktabs = TRUE ) Table 2.1: Here is a nice table! temperature pressure 0 0.0002 20 0.0012 40 0.0060 60 0.0300 80 0.0900 100 0.2700 120 0.7500 140 1.8500 160 4.2000 180 8.8000 "],["data-cleaning.html", "Chapter 3 Data Cleaning 3.1 Reading 3.2 Cleaning the Transcript Dataset 3.3 Declaration Dataset", " Chapter 3 Data Cleaning This page begins with the joined transcript data, and includes data cleaning to make our comprehensive dataset. 3.1 Reading unfiltered &lt;- read_csv(&quot;/home/rstudio/users/kziegler/ENVST CIR 2023_24/Data/CSV Data/all_cohort_transcripts_unfiltered.csv&quot;) # `unfiltered` is the transcript data from all years of interest combined into one dataset envst_maj_emph_conc_all_records &lt;- read_csv(&quot;/home/rstudio/users/kziegler/ENVST CIR 2023_24/Data/CSV Data/2013-2022_envst_maj_emph_conc_all_records.csv&quot;) # All planned, intended, withdrawal, and declaration dates for ES majors, concentrations, and emphases # Reading in declaration, withdrawal dates from all students, in all majors and concentrations allmajorconc &lt;- read_xlsx(&quot;/home/rstudio/users/kziegler/ENVST CIR 2023_24/Data/2022 cohort majors+concs.xlsx&quot;) %&gt;% bind_rows(read_xlsx(&quot;/home/rstudio/users/kziegler/ENVST CIR 2023_24/Data/2021 cohort majors+concs.xlsx&quot;)) %&gt;% bind_rows(read_xlsx(&quot;/home/rstudio/users/kziegler/ENVST CIR 2023_24/Data/2020 cohort majors+concs.xlsx&quot;)) %&gt;% bind_rows(read_xlsx(&quot;/home/rstudio/users/kziegler/ENVST CIR 2023_24/Data/2019 cohort majors+concs.xlsx&quot;)) %&gt;% bind_rows(read_xlsx(&quot;/home/rstudio/users/kziegler/ENVST CIR 2023_24/Data/2018 cohort majors+concs.xlsx&quot;)) %&gt;% bind_rows(read_xlsx(&quot;/home/rstudio/users/kziegler/ENVST CIR 2023_24/Data/2017 cohort majors+concs.xlsx&quot;)) %&gt;% bind_rows(read_xlsx(&quot;/home/rstudio/users/kziegler/ENVST CIR 2023_24/Data/2016 cohort majors+concs.xlsx&quot;)) %&gt;% bind_rows(read_xlsx(&quot;/home/rstudio/users/kziegler/ENVST CIR 2023_24/Data/2015 cohort majors+concs.xlsx&quot;)) %&gt;% bind_rows(read_xlsx(&quot;/home/rstudio/users/kziegler/ENVST CIR 2023_24/Data/2014 cohort majors+concs.xlsx&quot;)) %&gt;% bind_rows(read_xlsx(&quot;/home/rstudio/users/kziegler/ENVST CIR 2023_24/Data/2013 cohort majors+concs.xlsx&quot;)) degrees_majors_earned &lt;- read_csv(&quot;/home/rstudio/users/kziegler/ENVST CIR 2023_24/Data/CSV Data/2013-2022_degrees_majors_earned_clean.csv&quot;) # Graduation data for all students demographic_info &lt;- read_csv(&quot;/home/rstudio/users/kziegler/ENVST CIR 2023_24/Data/CSV Data/2013-2022_demographics.csv&quot;) # Demographic information for all students X28X &lt;- read_csv(&quot;/home/rstudio/users/kziegler/ENVST CIR 2023_24/Data/CSV Data/28X.csv&quot;) # Emphasis categories for all 28X topics courses 3.2 Cleaning the Transcript Dataset # Updated 11/30/2023 filtered_cohort_transcripts &lt;- unfiltered %&gt;% mutate(RS5TERM = ifelse(INSTNM == &quot;Environmental Studies&quot;, 3, RS5TERM)) %&gt;% # Looking for study abroad courses run by the ES department and putting them into the appropriate semester filter(RS5TERM %in% c(1, 2, 3), # Filtering to only include classes in Fall, January, Spring semesters RS5CREDS ==1, # Filtering to only include 1 credit courses INSTNM %in% c(&quot;St. Olaf College&quot;, &quot;Environmental Studies&quot;)) %&gt;% # Filtering to only include courses offered through St. Olaf mutate(ES_course = ifelse(RL1CSDAB %in% c(&quot;ENVST&quot;, &quot;AS/ES&quot;, &quot;BI/ES&quot;, &quot;ES/PS&quot;) | (RL1CSDAB == &quot;ENCON&quot; &amp; RL1CSNUM == &quot;111&quot;), TRUE, FALSE)) %&gt;% # Creating a new variable to indicate if a course is from an ES department rename(&quot;CohortYear&quot; = GS1COYR, &quot;Year&quot; = RS5YEAR, &quot;Term&quot; = RS5TERM, &quot;Department&quot; = RL1CSDAB, &quot;Course_Number&quot; = RL1CSNUM, &quot;Course_Name&quot; = RL1CSNM, &quot;Credits&quot; = RS5CREDS, &quot;Grade&quot; = RS5GRCD) %&gt;% # Renaming to readable variable names select(-CLBID, -RL1INST, -RL1HALF, -Credits, -INSTNM) %&gt;% # Remove unneeded variables mutate(Year_Taken = Year-CohortYear, Total_Term = (Year_Taken*3)+Term) # Creating a variable to indicate what term a course is taken in, where terms 1-3 are in the first year, 4-6 are in sophomore year, etc. # Tibble for filtering out non-four year students filter_out &lt;- filtered_cohort_transcripts %&gt;% filter(Total_Term &gt; 12) %&gt;% group_by(PPNUM) %&gt;% summarize() # Filtering out non-four year students filtered_cohort_transcripts &lt;- filtered_cohort_transcripts %&gt;% anti_join(filter_out) # Write cleaned version of `unfiltered` tibble/dataset write_csv(filtered_cohort_transcripts, &quot;/home/rstudio/users/kziegler/ENVST CIR 2023_24/Data/CSV Data/filtered_cohort_transcripts.csv&quot;) 3.3 Declaration Dataset # Updated 11/30/2023 # Converting dates to terms envst_maj_emph_conc_all_records_clean &lt;- envst_maj_emph_conc_all_records %&gt;% mutate(Date = ymd(`RS2CHGDT or RS3CHGDT`), # reading the column with declaration/withdrawal dates as a date Year = as.numeric(year(Date))-GS1COYR, # Finding the year category that corresponds with each declaration/withdrawal event (years 1, 2, 3, 4 of college) month = month(Date), # extracting the month of declaration/withdrawal dates Term = ifelse(month == 1, 2, ifelse((month %in% c(2, 3, 4, 5, 6, 7, 8)), 3, ifelse(month %in% c(9, 10, 11, 12), 1, 0))), # Sorting the declaration/withdrawal dates into terms - if delcaration/withdrawal occured in months 2-8, the date is recorded as part of Spring semester. If it occurred during months 9-12, it is recorded as part of Fall semester. Year = ifelse(Term %in% c(2, 3), Year-1, Year), # Year is adjusted from calender year to school year Total_Term = (Year*3)+Term) # The date of declaration/withdrawal is converted into total term, on the same scale as the courses taken #Finding concentration declarations concentration_declaration_dates &lt;- envst_maj_emph_conc_all_records_clean %&gt;% select(PPNUM, MECPNM, MECPTP, MJSTNM, Total_Term) %&gt;% filter(MJSTNM == &quot;Declared&quot;, MECPTP == &quot;C&quot;) %&gt;% pivot_wider(names_from = MJSTNM, values_from = Total_Term, values_fn = list)%&gt;% unnest_wider(Declared, names_sep = &quot;_&quot;) %&gt;% rename(&quot;Concentration_Declaration_1&quot; = Declared_1, &quot;Concentration_Declaration_2&quot; = Declared_2, &quot;Concentration_Declaration_3&quot; = Declared_3) %&gt;% select(-MECPNM, -MECPTP) #Finding concentration withdrawals concentration_withdrawn_dates &lt;- envst_maj_emph_conc_all_records_clean %&gt;% select(PPNUM, MECPNM, MECPTP, MJSTNM, Total_Term) %&gt;% filter(MJSTNM == &quot;Withdrawn&quot;, MECPTP == &quot;C&quot;) %&gt;% pivot_wider(names_from = MJSTNM, values_from = Total_Term, values_fn = list)%&gt;% unnest_wider(Withdrawn, names_sep = &quot;_&quot;) %&gt;% rename(&quot;Concentration_W_1&quot; = Withdrawn_1, &quot;Concentration_W_2&quot; = Withdrawn_2, &quot;Concentration_W_3&quot; = Withdrawn_3) %&gt;% select(-MECPNM, -MECPTP) # Finding major declarations major_declaration_dates &lt;- envst_maj_emph_conc_all_records_clean %&gt;% select(PPNUM, MECPNM, MECPTP, MJSTNM, Total_Term) %&gt;% filter(MJSTNM == &quot;Declared&quot;, MECPTP == &quot;M&quot;) %&gt;% pivot_wider(names_from = MJSTNM, values_from = Total_Term, values_fn = list)%&gt;% unnest_wider(Declared, names_sep = &quot;_&quot;) %&gt;% rename(&quot;Major_Declaration_1&quot; = Declared_1, &quot;Major_Declaration_2&quot; = Declared_2) %&gt;% select(-MECPNM, -MECPTP) #Finding major withdrawals major_withdrawn_dates &lt;- envst_maj_emph_conc_all_records_clean %&gt;% select(PPNUM, MECPNM, MECPTP, MJSTNM, Total_Term) %&gt;% filter(MJSTNM == &quot;Withdrawn&quot;, MECPTP == &quot;M&quot;) %&gt;% pivot_wider(names_from = MJSTNM, values_from = Total_Term, values_fn = list)%&gt;% unnest_wider(Withdrawn, names_sep = &quot;_&quot;) %&gt;% rename(&quot;Major_Withdrawn_1&quot; = Withdrawn_1, &quot;Major_Withdrawn_2&quot; = Withdrawn_2) %&gt;% select(-MECPNM, -MECPTP) # Finding declarations, withdrawals from each emphasis soc_sci_declared_dates &lt;- envst_maj_emph_conc_all_records_clean %&gt;% select(PPNUM, MECPNM, MECPTP, MJSTNM, Total_Term) %&gt;% filter(MECPNM == &quot;Social Science&quot;, MJSTNM == &quot;Declared&quot;) %&gt;% pivot_wider(names_from = MJSTNM, values_from = Total_Term, values_fn = list) %&gt;% unnest_wider(Declared, names_sep = &quot;_&quot;) %&gt;% rename(&quot;SocSci_Declaration_1&quot; = Declared_1, &quot;SocSci_Declaration_2&quot; = Declared_2) %&gt;% select(-MECPNM, -MECPTP) soc_sci_withdrawn_dates &lt;- envst_maj_emph_conc_all_records_clean %&gt;% select(PPNUM, MECPNM, MECPTP, MJSTNM, Total_Term) %&gt;% filter(MECPNM == &quot;Social Science&quot;, MJSTNM == &quot;Withdrawn&quot;) %&gt;% pivot_wider(names_from = MJSTNM, values_from = Total_Term, values_fn = list) %&gt;% unnest_wider(Withdrawn, names_sep = &quot;_&quot;) %&gt;% rename(&quot;SocSci_Withdrawn_1&quot; = Withdrawn_1, &quot;SocSci_Withdrawn_2&quot; = Withdrawn_2) %&gt;% select(-MECPNM, -MECPTP) nat_sci_declared_dates &lt;- envst_maj_emph_conc_all_records_clean %&gt;% select(PPNUM, MECPNM, MECPTP, MJSTNM, Total_Term) %&gt;% filter(MECPNM == &quot;Natural Science&quot;, MJSTNM == &quot;Declared&quot;) %&gt;% pivot_wider(names_from = MJSTNM, values_from = Total_Term, values_fn = list) %&gt;% unnest_wider(Declared, names_sep = &quot;_&quot;) %&gt;% rename(&quot;NatSci_Declaration_1&quot; = Declared_1, &quot;NatSci_Declaration_2&quot; = Declared_2) %&gt;% select(-MECPNM, -MECPTP) nat_sci_withdrawn_dates &lt;- envst_maj_emph_conc_all_records_clean %&gt;% select(PPNUM, MECPNM, MECPTP, MJSTNM, Total_Term) %&gt;% filter(MECPNM == &quot;Natural Science&quot;, MJSTNM == &quot;Withdrawn&quot;) %&gt;% pivot_wider(names_from = MJSTNM, values_from = Total_Term, values_fn = list) %&gt;% unnest_wider(Withdrawn, names_sep = &quot;_&quot;) %&gt;% rename(&quot;NatSci_Withdrawn_1&quot; = Withdrawn_1, &quot;NatSci_Withdrawn_2&quot; = Withdrawn_2) %&gt;% select(-MECPNM, -MECPTP) arts_declared_dates &lt;- envst_maj_emph_conc_all_records_clean %&gt;% select(PPNUM, MECPNM, MECPTP, MJSTNM, Total_Term) %&gt;% filter(MECPNM == &quot;Arts and Humanities&quot;, MJSTNM == &quot;Declared&quot;) %&gt;% pivot_wider(names_from = MJSTNM, values_from = Total_Term, values_fn = list) %&gt;% unnest_wider(Declared, names_sep = &quot;_&quot;) %&gt;% rename(&quot;Arts_Declaration_1&quot; = Declared_1, &quot;Arts_Declaration_2&quot; = Declared_2) %&gt;% select(-MECPNM, -MECPTP) arts_withdrawn_dates &lt;- envst_maj_emph_conc_all_records_clean %&gt;% select(PPNUM, MECPNM, MECPTP, MJSTNM, Total_Term) %&gt;% filter(MECPNM == &quot;Arts and Humanities&quot;, MJSTNM == &quot;Withdrawn&quot;) %&gt;% pivot_wider(names_from = MJSTNM, values_from = Total_Term, values_fn = list) %&gt;% unnest_wider(Withdrawn, names_sep = &quot;_&quot;) %&gt;% rename(&quot;Arts_Withdrawn_1&quot; = Withdrawn_1) %&gt;% select(-MECPNM, -MECPTP) # Preparing the dates to join with larger dataset all_dates &lt;- envst_maj_emph_conc_all_records_clean %&gt;% group_by(PPNUM) %&gt;% summarize() %&gt;% full_join(concentration_declaration_dates) %&gt;% full_join(concentration_withdrawn_dates) %&gt;% full_join(major_declaration_dates) %&gt;% full_join(major_withdrawn_dates) %&gt;% full_join(soc_sci_declared_dates) %&gt;% full_join(soc_sci_withdrawn_dates) %&gt;% full_join(nat_sci_declared_dates) %&gt;% full_join(nat_sci_withdrawn_dates) %&gt;% full_join(arts_declared_dates) %&gt;% full_join(arts_withdrawn_dates) "],["demographic-breakdowns.html", "Chapter 4 Demographic Breakdowns 4.1 Gender 4.2 Race 4.3 First Generation 4.4 Low Income 4.5 International", " Chapter 4 Demographic Breakdowns 4.1 Gender 4.2 Race 4.3 First Generation 4.4 Low Income 4.5 International "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
